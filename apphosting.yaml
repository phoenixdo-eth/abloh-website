# Settings for Build (Cloud Build).
# See https://firebase.google.com/docs/app-hosting/configure
buildConfig:
  runtime: nodejs22
  nodeVersion: 22

# Settings for Backend (on Cloud Run).
# See https://firebase.google.com/docs/app-hosting/configure#cloud-run
runConfig:
  minInstances: 0
  cpu: 2
  memoryMiB: 2048

# Environment variables and secrets.
env:
  # Clerk Environment Variables
  - variable: NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
    value: "pk_test_bGlnaHQtcGFyYWtlZXQtMi5jbGVyay5hY2NvdW50cy5kZXYk"
    availability:
      - BUILD
      - RUNTIME

  - variable: CLERK_SECRET_KEY
    secret: CLERK_SECRET_KEY
    availability:
      - BUILD
      - RUNTIME

  # Firebase Environment Variables
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    value: AIzaSyAXbcMd2s0bKhsyJ4lwIuBEJ9ztRwhwYOw
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: abloh-2025.firebaseapp.com
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: abloh-2025
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: abloh-2025.firebasestorage.app
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: "957968938596"
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: 1:957968938596:web:0bff2a3a21ae08350f9171
    availability:
      - BUILD
      - RUNTIME

  - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    value: G-3MF7CX5KWZ
    availability:
      - BUILD
      - RUNTIME

  # Firebase Admin SDK Service Account Key (stored as secret)
  - variable: FIREBASE_SERVICE_ACCOUNT_KEY
    secret: FIREBASE_SERVICE_ACCOUNT_KEY
    availability:
      - RUNTIME
